"use strict";(self.webpackChunkmanniwatch=self.webpackChunkmanniwatch||[]).push([[215],{8215:(P,f,s)=>{s.r(f),s.d(f,{StopsModule:()=>D});var m=s(9462),g=s(6108),l=s(3141),p=s(764),h=s(2115),i=s(4918),t=s(2093),E=s(5967);function O(o,v){1&o&&t._UZ(0,"mat-divider")}function c(o,v){if(1&o&&(t.TgZ(0,"h3",8),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name.charAt(0))}}const u=o=>["/stop",o];function x(o,v){if(1&o&&(t.ynx(0),t.YNc(1,O,1,0,"mat-divider",2)(2,c,2,1,"h3",3),t.TgZ(3,"a",4)(4,"mat-list-item",5)(5,"mat-icon",6),t._uU(6,"place"),t.qZA(),t.TgZ(7,"h4",7),t._uU(8),t.qZA()()(),t.BQk()),2&o){const n=v.$implicit,a=v.index,e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.hasHeader(a)&&a>0),t.xp6(1),t.Q6J("ngIf",e.hasHeader(a)),t.xp6(1),t.s9C("title",null==n?null:n.name),t.Q6J("routerLink",t.VKq(5,u,n.shortName)),t.xp6(5),t.Oqu(null==n?null:n.name)}}let r=(()=>{class o{activatedRoute;mStops=[];constructor(n){this.activatedRoute=n;const e=this.activatedRoute.snapshot.data?.stops?.stops;this.mStops=e?e.sort((T,y)=>T.name.localeCompare(y.name)):[]}hasHeader(n){return 0===n||this.stops[n].name.charAt(0)!==this.stops[n-1].name.charAt(0)}get stops(){return this.mStops}static \u0275fac=function(a){return new(a||o)(t.Y36(i.gz))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-stops-info"]],decls:2,vars:1,consts:[["role","list",1,"stoplist"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader","",4,"ngIf"],[3,"routerLink","title"],["role","listitem"],["mat-list-icon",""],["mat-line",""],["mat-subheader",""]],template:function(a,e){1&a&&(t.TgZ(0,"mat-nav-list",0),t.YNc(1,x,9,7,"ng-container",1),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngForOf",e.stops))},dependencies:[i.rH,m.sg,m.O5,l.Hw,p.Hk,p.Tg,p.gs,E.d],styles:["mat-nav-list.stoplist[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}@media (min-width: 401px){mat-nav-list.stoplist[_ngcontent-%COMP%]{padding-top:100px}}"]})}return o})();var d=s(6723),M=s(3769);let C=(()=>{class o extends d.Z{api;constructor(n,a,e){super(a,e),this.api=n}createLoader(n,a){return this.api.getStopLocations()}static \u0275fac=function(a){return new(a||o)(t.LFG(M.sM),t.LFG(i.F0),t.LFG(M.jn))};static \u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const A=[{component:r,path:"",resolve:{stops:C}}];let I=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[i.Bz.forChild(A),i.Bz]})}return o})(),D=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({providers:[C],imports:[I,m.ez,l.Ps,p.ie,h.G,g.Is]})}return o})()},6723:(P,f,s)=>{s.d(f,{Z:()=>E});var m=s(472),g=s(2071),l=s(5473),p=s(8025),h=s(9627),i=s(1451),t=s(971);class E{router;dialog;constructor(c,u){this.router=c,this.dialog=u}resolve(c,u){return this.createLoader(c,u).pipe((0,g.a)(x=>x.pipe((0,l.z)(r=>{if(r instanceof m.UA){if(404===r.status)return this.navigate(["error","not-found"]).pipe((0,l.z)(d=>p.E));if(r.status>=500&&r.status<600)return this.dialog.getRetryDialog({msg:"Error"}).pipe((0,l.z)(d=>d?(0,h.of)(d):(0,i._)(()=>r)))}return(0,i._)(()=>r)}))))}navigate(...c){return(0,t.D)(this.router.navigate(...c))}}}}]);