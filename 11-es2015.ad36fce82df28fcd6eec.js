(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{eZlm:function(t,e,s){"use strict";s.r(e),s.d(e,"StopsModule",(function(){return L}));var n=s("ofXK"),o=s("0IaG"),i=s("NFeN"),a=s("MutI"),c=s("bTqV"),r=s("fXoL");let l=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,i.b,c.b,o.f],n.c,i.b,c.b,o.f]}),t})();function b(t,e){if(1&t&&(r.Qb(0,"p"),r.Ac(1),r.Pb()),2&t){const t=r.dc();r.Ab(1),r.Cc("Code: ",t.data.code,"")}}let p=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onNoClick(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(o.g),r.Lb(o.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-retry-dialog"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Qb(0,"h1",0),r.Ac(1,"Error"),r.Pb(),r.Qb(2,"div",1),r.Qb(3,"p"),r.Ac(4),r.Pb(),r.yc(5,b,2,1,"p",2),r.Pb(),r.Qb(6,"div",3),r.Qb(7,"button",4),r.Zb("click",(function(){return e.onNoClick()})),r.Ac(8,"No Thanks"),r.Pb(),r.Qb(9,"button",5),r.Ac(10,"Ok"),r.Pb(),r.Pb()),2&t&&(r.Ab(4),r.Bc(e.data.message),r.Ab(1),r.jc("ngIf",e.data.code),r.Ab(4),r.jc("mat-dialog-close",!0))},directives:[o.h,o.e,n.l,o.c,c.a,o.d],styles:["[_nghost-%COMP%]{background:red}"]}),t})();var d=s("tyNb"),u=s("FKr1"),f=s("f0Cb");function h(t,e){1&t&&r.Mb(0,"mat-divider")}function m(t,e){if(1&t&&(r.Qb(0,"h3",8),r.Ac(1),r.Pb()),2&t){const t=r.dc().$implicit;r.Ab(1),r.Bc(t.name.charAt(0))}}const g=function(t){return["/stop",t]};function v(t,e){if(1&t&&(r.Ob(0),r.yc(1,h,1,0,"mat-divider",2),r.yc(2,m,2,1,"h3",3),r.Qb(3,"a",4),r.Qb(4,"mat-list-item",5),r.Qb(5,"mat-icon",6),r.Ac(6,"place"),r.Pb(),r.Qb(7,"h4",7),r.Ac(8),r.Pb(),r.Pb(),r.Pb(),r.Nb()),2&t){const t=e.$implicit,s=e.index,n=r.dc();r.Ab(1),r.jc("ngIf",n.hasHeader(s)&&s>0),r.Ab(1),r.jc("ngIf",n.hasHeader(s)),r.Ab(1),r.kc("title",null==t?null:t.name),r.jc("routerLink",r.oc(5,g,t.shortName)),r.Ab(5),r.Bc(null==t?null:t.name)}}let y=(()=>{class t{constructor(t){this.activatedRoute=t,this.mStops=[];const e=this.activatedRoute.snapshot.data.stops.stops.sort((t,e)=>t.name.localeCompare(e.name));this.mStops=e}hasHeader(t){return 0===t||this.stops[t].name.charAt(0)!==this.stops[t-1].name.charAt(0)}get stops(){return this.mStops}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(d.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-stops-info"]],decls:2,vars:1,consts:[["role","list",1,"stoplist"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader","",4,"ngIf"],[3,"routerLink","title"],["role","listitem"],["mat-list-icon",""],["mat-line",""],["mat-subheader",""]],template:function(t,e){1&t&&(r.Qb(0,"mat-nav-list",0),r.yc(1,v,9,7,"ng-container",1),r.Pb()),2&t&&(r.Ab(1),r.jc("ngForOf",e.stops))},directives:[a.f,n.k,n.l,d.h,a.c,i.a,a.b,u.f,f.a,a.e],styles:["mat-nav-list.stoplist[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}@media (min-width:401px){mat-nav-list.stoplist[_ngcontent-%COMP%]{padding-top:100px}}"]}),t})();var A=s("EY2u"),k=s("z6cu"),w=s("JIr8"),P=s("MtjB"),j=s("7o/Q");class Q{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new C(t,this.predicate))}}class C extends j.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var I=s("5+tZ"),O=s("lJxs"),x=s("o0su");let F=(()=>{class t{constructor(t,e,s){this.api=t,this.router=e,this.dialog=s}resolve(t,e){return this.api.getStopLocations().pipe(Object(w.a)(t=>404===t.status?(this.router.navigate(["error","not-found"]),A.a):Object(k.a)(t)),Object(P.a)((s=t=>this.dialog.open(p,{data:{code:t.status?t.status:void 0,message:"test"}}),t=>{let e=!1;return t.pipe((n=()=>e,t=>t.lift(new Q(n))),Object(I.a)(t=>(e=!0,s(t).afterClosed().pipe(Object(O.a)(s=>{if(e=!1,!s)throw t;return!0})))));var n})));var s}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(x.a),r.Wb(d.f),r.Wb(o.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const N=[{component:y,path:"",resolve:{stops:F}}];let J=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[d.i.forChild(N)],d.i]}),t})(),L=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[F],imports:[[J,n.c,i.b,a.d,l,o.f]]}),t})()}}]);