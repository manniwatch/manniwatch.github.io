!function(){"use strict";var t,e;function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(self.webpackChunk_manniwatch_client_ng=self.webpackChunk_manniwatch_client_ng||[]).push([[412],{74412:function(a,s,i){i.r(s),i.d(s,{StopModule:function(){return A}});var u,p=i(38583),c=i(76627),f=i(77746),l=i(4885),h=i(65939),b=i(12522),v=i(80083),g=i(52576),d=i(64702),m=i(98507),S=i(66149),P=i(75894),O=i(37716),x=i(79373),y=i(72882),w=((u=function(){function t(e,n){r(this,t),this.api=e,this.router=n}return o(t,[{key:"resolve",value:function(t,e){var n=this;return this.api.getStopPassages(t.params.stopId).pipe((0,P.K)(function(t){return 404===t.status&&n.router.navigate(["stops"]),S.E}))}}]),t}()).\u0275fac=function(t){return new(t||u)(O.LFG(x.sM),O.LFG(y.F0))},u.\u0275prov=O.Yz7({token:u,factory:u.\u0275fac}),u),_=i(41565),z=i(5207),k=i(83864),C=i(37540),I=i(47920),M=i(69978),Z=function(){var t=function(){function t(e,n,a,o){r(this,t),this.route=e,this.apiService=n,this.stopService=a,this.appRef=o,this.stopInfoObservable=this.route.data.pipe((0,z.U)(function(t){return t.stopInfo}))}return o(t,[{key:"createStopLocationObservable",value:function(){var t=this;return this.stopInfoObservable.pipe((0,k.z)(function(e){return t.stopService.filterStop(e.stopShortName)}))}},{key:"createStopPassageRefreshObservable",value:function(){var t=this;return this.stopInfoObservable.pipe((0,C.w)(function(e){return t.appRef.isStable.pipe((0,I.P)(function(t){return t}),(0,k.z)(function(){return(0,_.F)(1e4).pipe((0,C.w)(function(){return t.apiService.getStopPassages(e.stopShortName)}))}),(0,M.O)(e))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.LFG(y.gz),O.LFG(x.sM),O.LFG(x.gd),O.LFG(O.z2F))},t.\u0275prov=O.Yz7({token:t,factory:t.\u0275fac}),t}(),F=i(29656),D=i(71959),L=i(51322),q=i(8277),R=[{component:function(){var a=function(){function t(e){r(this,t),this.stopInfoService=e,this.subscriptions=[]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(e){t.stopPassage=e}})),this.subscriptions.push(this.stopInfoService.createStopLocationObservable().subscribe({next:function(e){t.headerMapData=e?{map:{center:e},stops:[e],vehicles:void 0}:{map:{blur:!0,center:void 0}}}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){t.unsubscribe()}),this.subscriptions=[]}}]),t}();return a.\u0275fac=function(t){return new(t||a)(O.Y36(Z))},a.\u0275cmp=O.Xpm({type:a,selectors:[["app-stop-info"]],features:[O._Bn([Z])],decls:7,vars:4,consts:function(){return[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],["label",$localize(t||(t=n([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"])))],[3,"departures"],["label",$localize(e||(e=n([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"])))],[3,"routes"]]},template:function(t,e){1&t&&(O.TgZ(0,"app-header-box",0),O._UZ(1,"map",1),O.qZA(),O.TgZ(2,"mat-tab-group",2),O.TgZ(3,"mat-tab",3),O._UZ(4,"app-departure-list",4),O.qZA(),O.TgZ(5,"mat-tab",5),O._UZ(6,"app-route-list",6),O.qZA(),O.qZA()),2&t&&(O.Q6J("title",null==e.stopPassage?null:e.stopPassage.stopName),O.xp6(1),O.Q6J("mapData",e.headerMapData),O.xp6(3),O.Q6J("departures",null==e.stopPassage?null:e.stopPassage.actual),O.xp6(2),O.Q6J("routes",null==e.stopPassage?null:e.stopPassage.routes))},directives:[F.c,D.C,h.SP,h.uX,L.e,q.q],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#B00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),a}(),data:{openSidebar:!0},path:":stopId",resolve:{stopInfo:w}}],j=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=O.oAB({type:t}),t.\u0275inj=O.cJS({imports:[[y.Bz.forChild(R)],y.Bz]}),t}(),A=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=O.oAB({type:t}),t.\u0275inj=O.cJS({providers:[w],imports:[[p.ez,c.Ps,f.ie,b.g0,l.Cq,j,h.Nh,v.n,g.D,d.qe,m.W]]}),t}()}}])}();