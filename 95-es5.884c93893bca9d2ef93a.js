!function(){var t,e;function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(self.webpackChunk_manniwatch_client_ng=self.webpackChunk_manniwatch_client_ng||[]).push([[95],{84095:function(a,i,s){"use strict";s.r(i),s.d(i,{StopPointModule:function(){return j}});var u=s(61116),p=s(77307),c=s(85078),f=s(87672),l=s(57173),b=s(37112),h=s(30304),g=s(13096),v=s(85496),d=s(70035),P=s(14951),m=s(51816),O=s(35366),S=s(10682),x=s(32860),w=function(){var t=function(){function t(e,n){r(this,t),this.api=e,this.router=n}return o(t,[{key:"resolve",value:function(t,e){var n=this;return this.api.getStopPointPassages(t.params.stopPointId).pipe((0,m.K)(function(t){return 404===t.status&&n.router.navigate(["stops"]),P.E}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.LFG(S.sM),O.LFG(x.F0))},t.\u0275prov=O.Yz7({token:t,factory:t.\u0275fac}),t}(),y=s(90273),_=s(91681),Z=s(14324),z=s(18606),k=s(47228),C=s(81258),M=function(){var t=function(){function t(e,n,a,o){r(this,t),this.route=e,this.apiService=n,this.stopService=a,this.appRef=o,this.stopPassageObservable=this.route.data.pipe((0,_.U)(function(t){return t.stopPoint}))}return o(t,[{key:"createStopPassageRefreshObservable",value:function(){var t=this;return this.stopPassageObservable.pipe((0,Z.w)(function(e){return t.appRef.isStable.pipe((0,z.P)(function(t){return t}),(0,k.z)(function(){return(0,y.F)(5e3).pipe((0,Z.w)(function(){return t.apiService.getStopPointPassages(e.stopShortName)}))}),(0,C.O)(e))}))}},{key:"createStopPointLocationObservable",value:function(){var t=this;return this.stopPassageObservable.pipe((0,Z.w)(function(e){return t.stopService.watchStopPoint(e.stopShortName).pipe((0,C.O)(void 0))}),(0,_.U)(function(t){return null==t?{map:{blur:!0}}:{map:{blur:!1,center:t}}}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.LFG(x.gz),O.LFG(S.sM),O.LFG(S.gd),O.LFG(O.z2F))},t.\u0275prov=O.Yz7({token:t,factory:t.\u0275fac}),t}(),q=s(45567),A=s(98139),F=s(28604),D=s(48802);function I(t,e){1&t&&(O.TgZ(0,"div",8),O.TgZ(1,"h3"),O._uU(2,"Error occured"),O.qZA(),O.TgZ(3,"p"),O._uU(4,"Will retry in a 0s"),O.qZA(),O.qZA())}function L(t,e){1&t&&O.YNc(0,I,5,0,"ng-template")}var T,J,R=[{component:(T=function(){function t(e){r(this,t),this.stopInfoService=e,this.subscriptions=[]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.stopInfoService.createStopPointLocationObservable().subscribe({next:function(e){t.headerMapData=e}})),this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(e){t.stopPassage=e}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){t.unsubscribe()}),this.subscriptions=[]}}]),t}(),T.\u0275fac=function(t){return new(t||T)(O.Y36(M))},T.\u0275cmp=O.Xpm({type:T,selectors:[["app-stop-point-info"]],features:[O._Bn([M])],decls:8,vars:5,consts:function(){return[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],["label",$localize(t||(t=n([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"])))],[3,"departures"],["label",$localize(e||(e=n([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"])))],[3,"routes"],[4,"ngIf"],[1,"error-box"]]},template:function(t,e){1&t&&(O.TgZ(0,"app-header-box",0),O._UZ(1,"map",1),O.qZA(),O.TgZ(2,"mat-tab-group",2),O.TgZ(3,"mat-tab",3),O._UZ(4,"app-departure-list",4),O.qZA(),O.TgZ(5,"mat-tab",5),O._UZ(6,"app-route-list",6),O.qZA(),O.qZA(),O.YNc(7,L,1,0,void 0,7)),2&t&&(O.s9C("title",null==e.stopPassage?null:e.stopPassage.stopName),O.xp6(1),O.Q6J("mapData",e.headerMapData),O.xp6(3),O.Q6J("departures",null==e.stopPassage?null:e.stopPassage.actual),O.xp6(2),O.Q6J("routes",null==e.stopPassage?null:e.stopPassage.routes),O.xp6(1),O.Q6J("ngIf",!1))},directives:[q.c,A.C,l.SP,l.uX,F.e,D.q,u.O5],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),T),data:{openSidebar:!0},path:":stopPointId",resolve:{stopPoint:w}}],U=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=O.oAB({type:t}),t.\u0275inj=O.cJS({imports:[[x.Bz.forChild(R)],x.Bz]}),t}(),j=((J=function t(){r(this,t)}).\u0275fac=function(t){return new(t||J)},J.\u0275mod=O.oAB({type:J}),J.\u0275inj=O.cJS({providers:[w],imports:[[u.ez,h.nJ,p.Ps,c.ie,b.g0,f.Cq,U,l.Nh,g.D,v.qe,d.W]]}),J)}}])}();