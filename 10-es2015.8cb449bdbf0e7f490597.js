(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0Vwa":function(t,e,a){"use strict";a.r(e),a.d(e,"StopModule",(function(){return W}));var s=a("ofXK"),r=a("NFeN"),o=a("MutI"),p=a("Xa2L"),n=a("wZkO"),i=a("/t3+"),c=a("adpU"),b=a("3cPY"),u=a("RSro"),l=a("Rfd2"),f=a("EY2u"),h=a("JIr8"),d=a("fXoL"),g=a("o0su"),v=a("tyNb");let m=(()=>{class t{constructor(t,e){this.api=t,this.router=e}resolve(t,e){return this.api.getStopPassages(t.params.stopId).pipe(Object(h.a)(t=>(404===t.status&&this.router.navigate(["stops"]),f.a)))}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(g.a),d.Wb(v.f))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac}),t})();var O=a("l5mm"),S=a("lJxs"),P=a("5+tZ"),I=a("eIep"),x=a("SxV6"),j=a("JX91");let w=(()=>{class t{constructor(t,e,a,s){this.route=t,this.apiService=e,this.stopService=a,this.appRef=s,this.stopInfoObservable=this.route.data.pipe(Object(S.a)(t=>t.stopInfo))}createStopLocationObservable(){return this.stopInfoObservable.pipe(Object(P.a)(t=>this.stopService.filterStop(t.stopShortName)))}createStopPassageRefreshObservable(){return this.stopInfoObservable.pipe(Object(I.a)(t=>this.appRef.isStable.pipe(Object(x.a)(t=>t),Object(P.a)(()=>Object(O.a)(1e4).pipe(Object(I.a)(()=>this.apiService.getStopPassages(t.stopShortName)))),Object(j.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(v.a),d.Wb(g.a),d.Wb(g.c),d.Wb(d.g))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac}),t})();var M=a("FSSf"),y=a("2UN5"),R=a("rIFM"),C=a("S256");const D=["label",$localize`:tab header departures|Departures@@departures␟891e36a38df10a0b8940219f4a51a03ea982c084␟1335502203219771538:Departures`],J=["label",$localize`:tab header routes|Routes@@Routes␟41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101␟99095597038876536:Routes`],N=[{component:(()=>{class t{constructor(t){this.stopInfoService=t,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:t=>{this.stopPassage=t}})),this.subscriptions.push(this.stopInfoService.createStopLocationObservable().subscribe({next:t=>{this.headerMapData=t?{map:{center:t},stops:[t],vehicles:void 0}:{map:{blur:!0,center:void 0}}}}))}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()}),this.subscriptions=[]}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(w))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-stop-info"]],features:[d.zb([w])],decls:9,vars:4,consts:[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],[6,"label"],[3,"departures"],[3,"routes"]],template:function(t,e){1&t&&(d.Qb(0,"app-header-box",0),d.Mb(1,"map",1),d.Pb(),d.Qb(2,"mat-tab-group",2),d.Qb(3,"mat-tab",3),d.Vb(4,D),d.Mb(5,"app-departure-list",4),d.Pb(),d.Qb(6,"mat-tab",3),d.Vb(7,J),d.Mb(8,"app-route-list",5),d.Pb(),d.Pb()),2&t&&(d.jc("title",null==e.stopPassage?null:e.stopPassage.stopName),d.Ab(1),d.jc("mapData",e.headerMapData),d.Ab(4),d.jc("departures",null==e.stopPassage?null:e.stopPassage.actual),d.Ab(3),d.jc("routes",null==e.stopPassage?null:e.stopPassage.routes))},directives:[M.a,y.a,n.b,n.a,R.a,C.a],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),t})(),data:{openSidebar:!0},path:":stopId",resolve:{stopInfo:m}}];let k=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[v.i.forChild(N)],v.i]}),t})(),W=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},providers:[m],imports:[[s.c,r.b,o.d,i.b,p.a,k,n.c,c.a,b.a,u.b,l.a]]}),t})()}}]);