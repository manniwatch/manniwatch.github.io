"use strict";(self.webpackChunk_manniwatch_client_ng=self.webpackChunk_manniwatch_client_ng||[]).push([[526],{17526:function(t,e,n){n.r(e),n.d(e,{StopsModule:function(){return I}});var o=n(38583),s=n(22238),i=n(76627),a=n(77746),r=n(92328),c=n(57391),u=n(37716),l=n(72458),p=n(1769);function d(t,e){1&t&&u._UZ(0,"mat-divider")}function m(t,e){if(1&t&&(u.TgZ(0,"h3",8),u._uU(1),u.qZA()),2&t){const t=u.oxw().$implicit;u.xp6(1),u.Oqu(t.name.charAt(0))}}const g=function(t){return["/stop",t]};function f(t,e){if(1&t&&(u.ynx(0),u.YNc(1,d,1,0,"mat-divider",2),u.YNc(2,m,2,1,"h3",3),u.TgZ(3,"a",4),u.TgZ(4,"mat-list-item",5),u.TgZ(5,"mat-icon",6),u._uU(6,"place"),u.qZA(),u.TgZ(7,"h4",7),u._uU(8),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&t){const t=e.$implicit,n=e.index,o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.hasHeader(n)&&n>0),u.xp6(1),u.Q6J("ngIf",o.hasHeader(n)),u.xp6(1),u.s9C("title",null==t?null:t.name),u.Q6J("routerLink",u.VKq(5,g,t.shortName)),u.xp6(5),u.Oqu(null==t?null:t.name)}}let h=(()=>{class t{constructor(t){this.activatedRoute=t,this.mStops=[];const e=this.activatedRoute.snapshot.data.stops.stops.sort((t,e)=>t.name.localeCompare(e.name));this.mStops=e}hasHeader(t){return 0===t||this.stops[t].name.charAt(0)!==this.stops[t-1].name.charAt(0)}get stops(){return this.mStops}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(c.gz))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-stops-info"]],decls:2,vars:1,consts:[["role","list",1,"stoplist"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader","",4,"ngIf"],[3,"routerLink","title"],["role","listitem"],["mat-list-icon",""],["mat-line",""],["mat-subheader",""]],template:function(t,e){1&t&&(u.TgZ(0,"mat-nav-list",0),u.YNc(1,f,9,7,"ng-container",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",e.stops))},directives:[a.Hk,o.sg,o.O5,c.yS,a.Tg,i.Hw,a.Nh,l.X2,p.d,a.gs],styles:["mat-nav-list.stoplist[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}@media (min-width: 401px){mat-nav-list.stoplist[_ngcontent-%COMP%]{padding-top:100px}}"]}),t})();var Z=n(9018),v=n(83787),x=n(33568),w=n(35780),_=n(51095);function A(t,e){if(1&t&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.hij("Code: ",t.data.code,"")}}let k=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onNoClick(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.so),u.Y36(s.WI))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-retry-dialog"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Error"),u.qZA(),u.TgZ(2,"div",1),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.YNc(5,A,2,1,"p",2),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"button",4),u.NdJ("click",function(){return e.onNoClick()}),u._uU(8,"No Thanks"),u.qZA(),u.TgZ(9,"button",5),u._uU(10,"Ok"),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(e.data.message),u.xp6(1),u.Q6J("ngIf",e.data.code),u.xp6(4),u.Q6J("mat-dialog-close",!0))},directives:[s.uh,s.xY,o.O5,s.H8,_.lW,s.ZT],styles:["[_nghost-%COMP%]{background:red}"]}),t})();var q=n(32085),T=n(28499),C=n(63159),b=n(27969);var y=n(37695);let O=(()=>{class t{constructor(t,e,n){this.api=t,this.router=e,this.dialog=n}resolve(t,e){return this.api.getStopLocations().pipe((0,x.K)(t=>404===t.status?(this.router.navigate(["error","not-found"]),Z.E):(0,v._)(t)),(0,w.a)((t=>e=>{let n=!1;return e.pipe(function(t){return(0,q.e)((e,n)=>{let o=!1;e.subscribe(new T.Q(n,e=>(o||(o=!t()))&&n.next(e)))})}(()=>n),(0,C.z)(e=>(n=!0,t(e).afterClosed().pipe((0,b.U)(t=>{if(n=!1,!t)throw e;return!0})))))})(t=>this.dialog.open(k,{data:{code:t.status?t.status:void 0,message:"test"}}))))}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(y.sM),u.LFG(c.F0),u.LFG(s.uw))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const N=[{component:h,path:"",resolve:{stops:O}}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[c.Bz.forChild(N)],c.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[O],imports:[[U,o.ez,i.Ps,a.ie,r.G,s.Is]]}),t})()}}]);