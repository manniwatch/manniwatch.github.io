function _templateObject2(){var e=_taggedTemplateLiteral([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0Vwa":function(e,t,a){"use strict";a.r(t),a.d(t,"StopModule",(function(){return T}));var n,r,s,o,i,c=a("ofXK"),p=a("NFeN"),u=a("MutI"),b=a("Xa2L"),l=a("wZkO"),f=a("/t3+"),h=a("adpU"),d=a("3cPY"),v=a("RSro"),g=a("Rfd2"),m=a("EY2u"),O=a("JIr8"),S=a("fXoL"),_=a("o0su"),C=a("tyNb"),P=((n=function(){function e(t,a){_classCallCheck(this,e),this.api=t,this.router=a}return _createClass(e,[{key:"resolve",value:function(e,t){var a=this;return this.api.getStopPassages(e.params.stopId).pipe(Object(O.a)((function(e){return 404===e.status&&a.router.navigate(["stops"]),m.a})))}}]),e}()).\u0275fac=function(e){return new(e||n)(S.Yb(_.a),S.Yb(C.f))},n.\u0275prov=S.Jb({token:n,factory:n.\u0275fac}),n),j=a("l5mm"),y=a("lJxs"),k=a("5+tZ"),w=a("eIep"),x=a("SxV6"),I=a("JX91"),R=((r=function(){function e(t,a,n,r){_classCallCheck(this,e),this.route=t,this.apiService=a,this.stopService=n,this.appRef=r,this.stopInfoObservable=this.route.data.pipe(Object(y.a)((function(e){return e.stopInfo})))}return _createClass(e,[{key:"createStopLocationObservable",value:function(){var e=this;return this.stopInfoObservable.pipe(Object(k.a)((function(t){return e.stopService.filterStop(t.stopShortName)})))}},{key:"createStopPassageRefreshObservable",value:function(){var e=this;return this.stopInfoObservable.pipe(Object(w.a)((function(t){return e.appRef.isStable.pipe(Object(x.a)((function(e){return e})),Object(k.a)((function(){return Object(j.a)(1e4).pipe(Object(w.a)((function(){return e.apiService.getStopPassages(t.stopShortName)})))})),Object(I.a)(t))})))}}]),e}()).\u0275fac=function(e){return new(e||r)(S.Yb(C.a),S.Yb(_.a),S.Yb(_.c),S.Yb(S.g))},r.\u0275prov=S.Jb({token:r,factory:r.\u0275fac}),r),M=a("FSSf"),L=a("2UN5"),N=a("rIFM"),Y=a("S256"),D=["label",$localize(_templateObject())],J=["label",$localize(_templateObject2())],z=[{component:(s=function(){function e(t){_classCallCheck(this,e),this.stopInfoService=t,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(t){e.stopPassage=t}})),this.subscriptions.push(this.stopInfoService.createStopLocationObservable().subscribe({next:function(t){e.headerMapData=t?{map:{center:t},stops:[t],vehicles:void 0}:{map:{blur:!0,center:void 0}}}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=[]}}]),e}(),s.\u0275fac=function(e){return new(e||s)(S.Nb(R))},s.\u0275cmp=S.Hb({type:s,selectors:[["app-stop-info"]],features:[S.Bb([R])],decls:9,vars:4,consts:[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],[6,"label"],[3,"departures"],[3,"routes"]],template:function(e,t){1&e&&(S.Sb(0,"app-header-box",0),S.Ob(1,"map",1),S.Rb(),S.Sb(2,"mat-tab-group",2),S.Sb(3,"mat-tab",3),S.Xb(4,D),S.Ob(5,"app-departure-list",4),S.Rb(),S.Sb(6,"mat-tab",3),S.Xb(7,J),S.Ob(8,"app-route-list",5),S.Rb(),S.Rb()),2&e&&(S.mc("title",null==t.stopPassage?null:t.stopPassage.stopName),S.Cb(1),S.mc("mapData",t.headerMapData),S.Cb(4),S.mc("departures",null==t.stopPassage?null:t.stopPassage.actual),S.Cb(3),S.mc("routes",null==t.stopPassage?null:t.stopPassage.routes))},directives:[M.a,L.a,l.b,l.a,N.a,Y.a],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),s),data:{openSidebar:!0},path:":stopId",resolve:{stopInfo:P}}],X=((i=function e(){_classCallCheck(this,e)}).\u0275mod=S.Lb({type:i}),i.\u0275inj=S.Kb({factory:function(e){return new(e||i)},imports:[[C.i.forChild(z)],C.i]}),i),T=((o=function e(){_classCallCheck(this,e)}).\u0275mod=S.Lb({type:o}),o.\u0275inj=S.Kb({factory:function(e){return new(e||o)},providers:[P],imports:[[c.c,p.b,u.d,f.b,b.a,X,l.c,h.a,d.a,v.b,g.a]]}),o)}}]);