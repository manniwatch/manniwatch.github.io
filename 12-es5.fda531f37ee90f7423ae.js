!function(){function t(){var e=n([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"]);return t=function(){return e},e}function e(){var t=n([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"]);return e=function(){return t},t}function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0Vwa":function(n,r,s){"use strict";s.r(r),s.d(r,"StopModule",(function(){return H}));var i,c,u,p,b,f=s("ofXK"),l=s("NFeN"),h=s("MutI"),d=s("Xa2L"),v=s("wZkO"),g=s("/t3+"),O=s("adpU"),m=s("3cPY"),S=s("RSro"),P=s("Rfd2"),y=s("EY2u"),w=s("JIr8"),I=s("fXoL"),x=s("o0su"),j=s("tyNb"),k=((i=function(){function t(e,n){a(this,t),this.api=e,this.router=n}return o(t,[{key:"resolve",value:function(t,e){var n=this;return this.api.getStopPassages(t.params.stopId).pipe(Object(w.a)((function(t){return 404===t.status&&n.router.navigate(["stops"]),y.a})))}}]),t}()).\u0275fac=function(t){return new(t||i)(I.Vb(x.a),I.Vb(j.f))},i.\u0275prov=I.Gb({token:i,factory:i.\u0275fac}),i),M=s("l5mm"),R=s("lJxs"),C=s("5+tZ"),V=s("eIep"),z=s("SxV6"),D=s("JX91"),L=((c=function(){function t(e,n,r,o){a(this,t),this.route=e,this.apiService=n,this.stopService=r,this.appRef=o,this.stopInfoObservable=this.route.data.pipe(Object(R.a)((function(t){return t.stopInfo})))}return o(t,[{key:"createStopLocationObservable",value:function(){var t=this;return this.stopInfoObservable.pipe(Object(C.a)((function(e){return t.stopService.filterStop(e.stopShortName)})))}},{key:"createStopPassageRefreshObservable",value:function(){var t=this;return this.stopInfoObservable.pipe(Object(V.a)((function(e){return t.appRef.isStable.pipe(Object(z.a)((function(t){return t})),Object(C.a)((function(){return Object(M.a)(1e4).pipe(Object(V.a)((function(){return t.apiService.getStopPassages(e.stopShortName)})))})),Object(D.a)(e))})))}}]),t}()).\u0275fac=function(t){return new(t||c)(I.Vb(j.a),I.Vb(x.a),I.Vb(x.c),I.Vb(I.g))},c.\u0275prov=I.Gb({token:c,factory:c.\u0275fac}),c),N=s("FSSf"),_=s("2UN5"),J=s("rIFM"),E=s("S256"),U=["label",$localize(e())],X=["label",$localize(t())],A=[{component:(u=function(){function t(e){a(this,t),this.stopInfoService=e,this.subscriptions=[]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(e){t.stopPassage=e}})),this.subscriptions.push(this.stopInfoService.createStopLocationObservable().subscribe({next:function(e){t.headerMapData=e?{map:{center:e},stops:[e],vehicles:void 0}:{map:{blur:!0,center:void 0}}}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){t.unsubscribe()})),this.subscriptions=[]}}]),t}(),u.\u0275fac=function(t){return new(t||u)(I.Kb(L))},u.\u0275cmp=I.Eb({type:u,selectors:[["app-stop-info"]],features:[I.zb([L])],decls:9,vars:4,consts:[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],[6,"label"],[3,"departures"],[3,"routes"]],template:function(t,e){1&t&&(I.Pb(0,"app-header-box",0),I.Lb(1,"map",1),I.Ob(),I.Pb(2,"mat-tab-group",2),I.Pb(3,"mat-tab",3),I.Ub(4,U),I.Lb(5,"app-departure-list",4),I.Ob(),I.Pb(6,"mat-tab",3),I.Ub(7,X),I.Lb(8,"app-route-list",5),I.Ob(),I.Ob()),2&t&&(I.ic("title",null==e.stopPassage?null:e.stopPassage.stopName),I.Ab(1),I.ic("mapData",e.headerMapData),I.Ab(4),I.ic("departures",null==e.stopPassage?null:e.stopPassage.actual),I.Ab(3),I.ic("routes",null==e.stopPassage?null:e.stopPassage.routes))},directives:[N.a,_.a,v.b,v.a,J.a,E.a],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),u),data:{openSidebar:!0},path:":stopId",resolve:{stopInfo:k}}],F=((b=function t(){a(this,t)}).\u0275mod=I.Ib({type:b}),b.\u0275inj=I.Hb({factory:function(t){return new(t||b)},imports:[[j.i.forChild(A)],j.i]}),b),H=((p=function t(){a(this,t)}).\u0275mod=I.Ib({type:p}),p.\u0275inj=I.Hb({factory:function(t){return new(t||p)},providers:[k],imports:[[f.c,l.b,h.d,g.b,d.a,F,v.c,O.a,m.a,S.b,P.a]]}),p)}}])}();