!function(){var t,e;function a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,a){return e&&r(t.prototype,e),a&&r(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0Vwa":function(r,s,i){"use strict";i.r(s),i.d(s,"StopModule",function(){return K});var c,p,u,b,f,l=i("ofXK"),h=i("NFeN"),d=i("MutI"),v=i("Xa2L"),g=i("wZkO"),O=i("/t3+"),m=i("adpU"),S=i("3cPY"),P=i("RSro"),j=i("Rfd2"),w=i("EY2u"),y=i("JIr8"),I=i("fXoL"),x=i("o0su"),R=i("tyNb"),k=((c=function(){function t(e,a){n(this,t),this.api=e,this.router=a}return o(t,[{key:"resolve",value:function(t,e){var a=this;return this.api.getStopPassages(t.params.stopId).pipe(Object(y.a)(function(t){return 404===t.status&&a.router.navigate(["stops"]),w.a}))}}]),t}()).\u0275fac=function(t){return new(t||c)(I.Wb(x.a),I.Wb(R.f))},c.\u0275prov=I.Ib({token:c,factory:c.\u0275fac}),c),M=i("l5mm"),C=i("lJxs"),N=i("5+tZ"),D=i("eIep"),J=i("SxV6"),z=i("JX91"),W=((p=function(){function t(e,a,r,o){n(this,t),this.route=e,this.apiService=a,this.stopService=r,this.appRef=o,this.stopInfoObservable=this.route.data.pipe(Object(C.a)(function(t){return t.stopInfo}))}return o(t,[{key:"createStopLocationObservable",value:function(){var t=this;return this.stopInfoObservable.pipe(Object(N.a)(function(e){return t.stopService.filterStop(e.stopShortName)}))}},{key:"createStopPassageRefreshObservable",value:function(){var t=this;return this.stopInfoObservable.pipe(Object(D.a)(function(e){return t.appRef.isStable.pipe(Object(J.a)(function(t){return t}),Object(N.a)(function(){return Object(M.a)(1e4).pipe(Object(D.a)(function(){return t.apiService.getStopPassages(e.stopShortName)}))}),Object(z.a)(e))}))}}]),t}()).\u0275fac=function(t){return new(t||p)(I.Wb(R.a),I.Wb(x.a),I.Wb(x.d),I.Wb(I.g))},p.\u0275prov=I.Ib({token:p,factory:p.\u0275fac}),p),_=i("FSSf"),L=i("2UN5"),Q=i("rIFM"),X=i("S256"),E=[{component:(u=function(){function t(e){n(this,t),this.stopInfoService=e,this.subscriptions=[]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(e){t.stopPassage=e}})),this.subscriptions.push(this.stopInfoService.createStopLocationObservable().subscribe({next:function(e){t.headerMapData=e?{map:{center:e},stops:[e],vehicles:void 0}:{map:{blur:!0,center:void 0}}}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){t.unsubscribe()}),this.subscriptions=[]}}]),t}(),u.\u0275fac=function(t){return new(t||u)(I.Mb(W))},u.\u0275cmp=I.Gb({type:u,selectors:[["app-stop-info"]],features:[I.Bb([W])],decls:7,vars:4,consts:function(){return[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],["label",$localize(t||(t=a([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"])))],[3,"departures"],["label",$localize(e||(e=a([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"])))],[3,"routes"]]},template:function(t,e){1&t&&(I.Rb(0,"app-header-box",0),I.Nb(1,"map",1),I.Qb(),I.Rb(2,"mat-tab-group",2),I.Rb(3,"mat-tab",3),I.Nb(4,"app-departure-list",4),I.Qb(),I.Rb(5,"mat-tab",5),I.Nb(6,"app-route-list",6),I.Qb(),I.Qb()),2&t&&(I.jc("title",null==e.stopPassage?null:e.stopPassage.stopName),I.Cb(1),I.jc("mapData",e.headerMapData),I.Cb(3),I.jc("departures",null==e.stopPassage?null:e.stopPassage.actual),I.Cb(2),I.jc("routes",null==e.stopPassage?null:e.stopPassage.routes))},directives:[_.a,L.a,g.b,g.a,Q.a,X.a],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),u),data:{openSidebar:!0},path:":stopId",resolve:{stopInfo:k}}],F=((f=function t(){n(this,t)}).\u0275fac=function(t){return new(t||f)},f.\u0275mod=I.Kb({type:f}),f.\u0275inj=I.Jb({imports:[[R.i.forChild(E)],R.i]}),f),K=((b=function t(){n(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275mod=I.Kb({type:b}),b.\u0275inj=I.Jb({providers:[k],imports:[[l.c,h.b,d.d,O.b,v.a,F,g.c,m.a,S.a,P.b,j.a]]}),b)}}])}();