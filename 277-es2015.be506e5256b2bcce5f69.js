(self.webpackChunk_manniwatch_client_ng=self.webpackChunk_manniwatch_client_ng||[]).push([[277],{72277:function(t,n,e){"use strict";e.r(n),e.d(n,{StopsModule:function(){return I}});var o=e(38583),s=e(22238),a=e(76627),i=e(77746),r=e(92328),c=e(72882),u=e(37716),l=e(72458),p=e(1769);function d(t,n){1&t&&u._UZ(0,"mat-divider")}function m(t,n){if(1&t&&(u.TgZ(0,"h3",8),u._uU(1),u.qZA()),2&t){const t=u.oxw().$implicit;u.xp6(1),u.Oqu(t.name.charAt(0))}}const g=function(t){return["/stop",t]};function f(t,n){if(1&t&&(u.ynx(0),u.YNc(1,d,1,0,"mat-divider",2),u.YNc(2,m,2,1,"h3",3),u.TgZ(3,"a",4),u.TgZ(4,"mat-list-item",5),u.TgZ(5,"mat-icon",6),u._uU(6,"place"),u.qZA(),u.TgZ(7,"h4",7),u._uU(8),u.qZA(),u.qZA(),u.qZA(),u.BQk()),2&t){const t=n.$implicit,e=n.index,o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.hasHeader(e)&&e>0),u.xp6(1),u.Q6J("ngIf",o.hasHeader(e)),u.xp6(1),u.s9C("title",null==t?null:t.name),u.Q6J("routerLink",u.VKq(5,g,t.shortName)),u.xp6(5),u.Oqu(null==t?null:t.name)}}let h=(()=>{class t{constructor(t){this.activatedRoute=t,this.mStops=[];const n=this.activatedRoute.snapshot.data.stops.stops.sort((t,n)=>t.name.localeCompare(n.name));this.mStops=n}hasHeader(t){return 0===t||this.stops[t].name.charAt(0)!==this.stops[t-1].name.charAt(0)}get stops(){return this.mStops}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(c.gz))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-stops-info"]],decls:2,vars:1,consts:[["role","list",1,"stoplist"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader","",4,"ngIf"],[3,"routerLink","title"],["role","listitem"],["mat-list-icon",""],["mat-line",""],["mat-subheader",""]],template:function(t,n){1&t&&(u.TgZ(0,"mat-nav-list",0),u.YNc(1,f,9,7,"ng-container",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",n.stops))},directives:[i.Hk,o.sg,o.O5,c.yS,i.Tg,a.Hw,i.Nh,l.X2,p.d,i.gs],styles:["mat-nav-list.stoplist[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}@media (min-width: 401px){mat-nav-list.stoplist[_ngcontent-%COMP%]{padding-top:100px}}"]}),t})();var Z=e(66149),v=e(98567),x=e(75894),w=e(80070),_=e(51095);function A(t,n){if(1&t&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.hij("Code: ",t.data.code,"")}}let k=(()=>{class t{constructor(t,n){this.dialogRef=t,this.data=n}onNoClick(){this.dialogRef.close(!1)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(s.so),u.Y36(s.WI))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-retry-dialog"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,n){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Error"),u.qZA(),u.TgZ(2,"div",1),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.YNc(5,A,2,1,"p",2),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"button",4),u.NdJ("click",function(){return n.onNoClick()}),u._uU(8,"No Thanks"),u.qZA(),u.TgZ(9,"button",5),u._uU(10,"Ok"),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Oqu(n.data.message),u.xp6(1),u.Q6J("ngIf",n.data.code),u.xp6(4),u.Q6J("mat-dialog-close",!0))},directives:[s.uh,s.xY,o.O5,s.H8,_.lW,s.ZT],styles:["[_nghost-%COMP%]{background:red}"]}),t})();var q=e(30424),T=e(95076),C=e(83864),b=e(5207),y=e(79373);let O=(()=>{class t{constructor(t,n,e){this.api=t,this.router=n,this.dialog=e}resolve(t,n){return this.api.getStopLocations().pipe((0,x.K)(t=>404===t.status?(this.router.navigate(["error","not-found"]),Z.E):(0,v._)(t)),(0,w.a)((e=t=>this.dialog.open(k,{data:{code:t.status?t.status:void 0,message:"test"}}),t=>{let n=!1;return t.pipe((o=()=>n,(0,q.e)(function(t,n){var e=!1;t.subscribe(new T.Q(n,function(t){return(e||(e=!o()))&&n.next(t)}))})),(0,C.z)(t=>(n=!0,e(t).afterClosed().pipe((0,b.U)(e=>{if(n=!1,!e)throw t;return!0})))));var o})));var e}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(y.sM),u.LFG(c.F0),u.LFG(s.uw))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const N=[{component:h,path:"",resolve:{stops:O}}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[c.Bz.forChild(N)],c.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[O],imports:[[U,o.ez,a.Ps,i.ie,r.G,s.Is]]}),t})()}}]);