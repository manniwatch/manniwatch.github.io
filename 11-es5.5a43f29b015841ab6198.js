!function(){function t(){var e=n([":tab header routes|Routes@@Routes\u241f41f0d60bbecc9f4b18c97c3656eeafe9a8f6d101\u241f99095597038876536:Routes"]);return t=function(){return e},e}function e(){var t=n([":tab header departures|Departures@@departures\u241f891e36a38df10a0b8940219f4a51a03ea982c084\u241f1335502203219771538:Departures"]);return e=function(){return t},t}function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{NHX4:function(n,r,i){"use strict";i.r(r),i.d(r,"StopPointModule",(function(){return G}));var s,c,u=i("ofXK"),p=i("NFeN"),b=i("MutI"),f=i("Xa2L"),l=i("wZkO"),h=i("/t3+"),d=i("adpU"),v=i("3cPY"),g=i("RSro"),P=i("Rfd2"),O=i("EY2u"),m=i("JIr8"),S=i("fXoL"),y=i("o0su"),j=i("tyNb"),w=((s=function(){function t(e,n){a(this,t),this.api=e,this.router=n}return o(t,[{key:"resolve",value:function(t,e){var n=this;return this.api.getStopPointPassages(t.params.stopPointId).pipe(Object(m.a)((function(t){return 404===t.status&&n.router.navigate(["stops"]),O.a})))}}]),t}()).\u0275fac=function(t){return new(t||s)(S.Vb(y.a),S.Vb(j.f))},s.\u0275prov=S.Gb({token:s,factory:s.\u0275fac}),s),x=i("l5mm"),I=i("lJxs"),k=i("eIep"),M=i("SxV6"),z=i("5+tZ"),R=i("JX91"),C=((c=function(){function t(e,n,r,o){a(this,t),this.route=e,this.apiService=n,this.stopService=r,this.appRef=o,this.stopPassageObservable=this.route.data.pipe(Object(I.a)((function(t){return t.stopPoint})))}return o(t,[{key:"createStopPassageRefreshObservable",value:function(){var t=this;return this.stopPassageObservable.pipe(Object(k.a)((function(e){return t.appRef.isStable.pipe(Object(M.a)((function(t){return t})),Object(z.a)((function(){return Object(x.a)(5e3).pipe(Object(k.a)((function(){return t.apiService.getStopPointPassages(e.stopShortName)})))})),Object(R.a)(e))})))}},{key:"createStopPointLocationObservable",value:function(){var t=this;return this.stopPassageObservable.pipe(Object(k.a)((function(e){return t.stopService.watchStopPoint(e.stopShortName).pipe(Object(R.a)(void 0))})),Object(I.a)((function(t){return null==t?{map:{blur:!0}}:{map:{blur:!1,center:t}}})))}}]),t}()).\u0275fac=function(t){return new(t||c)(S.Vb(j.a),S.Vb(y.a),S.Vb(y.c),S.Vb(S.g))},c.\u0275prov=S.Gb({token:c,factory:c.\u0275fac}),c),N=i("FSSf"),D=i("2UN5"),L=i("rIFM"),V=i("S256"),_=["label",$localize(e())],E=["label",$localize(t())];function J(t,e){1&t&&(S.Pb(0,"div",7),S.Pb(1,"h3"),S.Bc(2,"Error occured"),S.Ob(),S.Pb(3,"p"),S.Bc(4,"Will retry in a 0s"),S.Ob(),S.Ob())}function X(t,e){1&t&&S.zc(0,J,5,0,"ng-template")}var A,H,U,F=[{component:(A=function(){function t(e){a(this,t),this.stopInfoService=e,this.subscriptions=[]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.subscriptions.push(this.stopInfoService.createStopPointLocationObservable().subscribe({next:function(e){t.headerMapData=e}})),this.subscriptions.push(this.stopInfoService.createStopPassageRefreshObservable().subscribe({next:function(e){t.stopPassage=e}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){t.unsubscribe()})),this.subscriptions=[]}}]),t}(),A.\u0275fac=function(t){return new(t||A)(S.Kb(C))},A.\u0275cmp=S.Eb({type:A,selectors:[["app-stop-point-info"]],features:[S.zb([C])],decls:10,vars:5,consts:[[3,"title"],["appOlStatic","",3,"mapData"],["mat-stretch-tabs","","dynamicHeight",""],[6,"label"],[3,"departures"],[3,"routes"],[4,"ngIf"],[1,"error-box"]],template:function(t,e){1&t&&(S.Pb(0,"app-header-box",0),S.Lb(1,"map",1),S.Ob(),S.Pb(2,"mat-tab-group",2),S.Pb(3,"mat-tab",3),S.Ub(4,_),S.Lb(5,"app-departure-list",4),S.Ob(),S.Pb(6,"mat-tab",3),S.Ub(7,E),S.Lb(8,"app-route-list",5),S.Ob(),S.Ob(),S.zc(9,X,1,0,void 0,6)),2&t&&(S.jc("title",null==e.stopPassage?null:e.stopPassage.stopName),S.Ab(1),S.ic("mapData",e.headerMapData),S.Ab(4),S.ic("departures",null==e.stopPassage?null:e.stopPassage.actual),S.Ab(3),S.ic("routes",null==e.stopPassage?null:e.stopPassage.routes),S.Ab(1),S.ic("ngIf",!1))},directives:[N.a,D.a,l.b,l.a,L.a,V.a,u.l],styles:["mat-tab-group[_ngcontent-%COMP%]{flex-grow:1}div.error-box[_ngcontent-%COMP%]{flex:0 0 auto;background:#b00020;color:#fff;padding:5px 20px}div.error-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;line-height:30px;padding:0;margin:0}div.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;line-height:20px;padding:0;margin:0}"]}),A),data:{openSidebar:!0},path:":stopPointId",resolve:{stopPoint:w}}],B=((U=function t(){a(this,t)}).\u0275mod=S.Ib({type:U}),U.\u0275inj=S.Hb({factory:function(t){return new(t||U)},imports:[[j.i.forChild(F)],j.i]}),U),G=((H=function t(){a(this,t)}).\u0275mod=S.Ib({type:H}),H.\u0275inj=S.Hb({factory:function(t){return new(t||H)},providers:[w],imports:[[u.c,d.a,p.b,b.d,h.b,f.a,B,l.c,v.a,g.b,P.a]]}),H)}}])}();